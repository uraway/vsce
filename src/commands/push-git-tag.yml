description: |
  Push git tag to your repository
parameters:
  package-path:
    default: "."
    description: |
      Root directory of your extension
    type: string
steps:
  - extract-extension-id:
      package-path: << parameters.package-path >>
  - run:
      name: Push git tag
      command: |
        TAG=$(npx vsce show $EXTENSION_ID --json | jq -r '.versions[0].version')
        git tag -a "v$TAG" -m "View CHANGELOG: https://marketplace.visualstudio.com/items/$EXTENSION_ID/changelog"
        git push origin "v$TAG"
